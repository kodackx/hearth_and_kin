<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&family=Dancing+Script&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">
    <script type="module" src="js/dashboard.js"></script>
    <title>Hearth & Kin: Dashboard</title>
</head>

<!-- martin's architecture for stories and rooms + tweaks from old setup -->
<body>
    <div id="toastContainer"></div>
    <div class="banner">
        <h1>Welcome to the world of Hearth & Kin</h1>
        <p>You are logged in as <span id="username"></span></p>
    </div>
    <div id="invite-code-popup" class="popup">
        <div class="popup-content">
            <span class="close-btn">&times;</span>
            <h2>Enter Invite Code</h2>
            <input type="text" id="invite-code-input" placeholder="Invite Code">
            <button id="submit-invite-code-btn">Submit</button>
        </div>
    </div>
    <div id="welcome-popup" class="popup">
        <div class="popup-content">
            <span class="close-btn">&times;</span>
            <h2>As we embark on our journey...</h2>
            <p>Hearth and Kin is an experiment in collaborative storytelling. This leverages a suite of generative AI tools — text, image, and audio — to create an unparalleled experience. We gratefully recognize the collective output of human ingenuity and creativity, acknowledging the millions of artists, creators, and writers whose work has been instrumental in training these models. It is their expression of the human spirit that fuels the latest advancements in technology and software.</p>
            <div class="signature">
                <p>Best Regards,</p>
                <p><em>The Hearth & Kin Team</em></p>
            </div>
        </div>
    </div>
    <div class="main-container">
        <div class="characters-container">
            <h1 class="container-title">CHARACTERS</h1>
            <!-- Character Boxes Here -->
            <div class="character-box" id="char1">
                <div class="box-content">+</div>
                <div class="box-footer">Create New Character</div>
            </div>
            <!-- Add more character boxes as needed -->
            <div class="character-box" id="char2">
                <div class="box-content">+</div>
                <div class="box-footer">Create New Character</div>
            </div>
            <!-- Add more character boxes as needed -->
            <div class="character-box" id="char3">
                <div class="box-content">+</div>
                <div class="box-footer">Create New Character</div>
            </div>
        </div>
        <div class="stories-container">
            <h1 class="container-title">STORIES</h1>
            <!-- Story Boxes Here -->
            <div class="story-box" id="story1" data-action="create">
                <div class="box-content">+</div>
                <div class="box-footer">Create New Story</div>
            </div>
            <!-- Add more story boxes as needed -->
            <div class="story-box" id="story2" data-action="create">
                <div class="box-content">+</div>
                <div class="box-footer">Create New Story</div>
            </div>
            <!-- Add more story boxes as needed -->
            <div class="story-box" id="story3" data-action="create">
                <div class="box-content">+</div>
                <div class="box-footer">Create New Story</div>
            </div>
            <!-- Add more story boxes as needed -->
            <div class="story-box" id="story4" data-action="create">
                <div class="box-content">+</div>
                <div class="box-footer">Create New Story</div>
            </div>
            <!-- Add more story boxes as needed -->
            <div class="story-box" id="story5" data-action="create">
                <div class="box-content">+</div>
                <div class="box-footer">Create New Story</div>
            </div>
            <!-- Add more story boxes as needed -->
            <div class="story-box" id="story6" data-action="create">
                <div class="box-content">+</div>
                <div class="box-footer">Create New Story</div>
            </div>
            <!-- Add more story boxes as needed -->
            <div class="story-box" id="story7" data-action="create">
                <div class="box-content">+</div>
                <div class="box-footer">Create New Story</div>
            </div>
            <!-- Add more story boxes as needed -->
            <div class="story-box" id="story8" data-action="create">
                <div class="box-content">+</div>
                <div class="box-footer">Create New Story</div>
            </div>
            <!-- Add more story boxes as needed -->
            <div class="story-box" id="story9" data-action="create">
                <div class="box-content">+</div>
                <div class="box-footer">Create New Story</div>
            </div>
            <!-- Add more story boxes as needed -->
            <div class="invite-code-container">
                <button id="use-invite-code-btn">
                    <img src="static/img/HAK_story_icons_2.png" alt="Join Adventure" class="story-icon-join">
                    <div id="use-invite-code-txt"> Use Invite Code</div>
                </button>
            </div>
        </div>
    </div>
</body>
</html>
<style>
    body {
        height: 90%; /* Ensure they at least cover the viewport height */
        min-height: 90vh; /* Minimum height to cover the viewport */
        margin: 0; /* Remove default margin */
        padding: 0; /* Remove default padding */
        font-family: 'MedievalSharp', Arial, sans-serif;
        background-color: #000; /* Ensures the fallback color is black */
        background-image: radial-gradient(circle at center, rgba(0, 0, 0, 0.2) 50%, rgba(0, 0, 0, 0.7) 70%, #000 100%), url("static/img/login1.png");
        background-repeat: no-repeat;
        background-position: center center;
        background-size: cover;
        background-attachment: fixed;
        position: relative;
    }

    body::after {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        /* background-color: rgba(0, 0, 0, 0.5); */
    }

    .banner {
        background-color: rgba(139, 69, 19, 0.8); 
        border-radius: 10px;
        padding: 20px;
        margin: 20px;
        text-align: center;
        color: #fff;
    }

    #username {
        font-weight: bold;
        color: #f4d9c5;
        background-color: #8b4513;
        padding: 2px 8px;
        border-radius: 4px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .main-container {
        display: flex;
        justify-content: center;
        /* background-color: rgba(0, 0, 0, 0.9); 90% transparent black background */
        border-radius: 20px; /* Rounded corners */
        /* padding: 20px; Add padding for spacing */
    }

    .characters-container, .stories-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        flex: 1;
        margin: 10px;
        max-width: 400px;
        text-align: center;
        background-color: rgba(0, 0, 0, 0.7); /* 90% transparent black background */
        border-radius: 20px; /* Rounded corners */
        /* padding: 20px; Add padding for spacing */
        padding-block-end: 20px;
        /* animation: slideInFromRight 0.5s ease-out forwards; this breaks clicking somehow!!! */
    }

    .stories-container {
        display: none;
    }

    .container-title {
        font-family: 'MedievalSharp', Arial, sans-serif; /* Use the MedievalSharp font for thematic consistency */
        color: #f4d9c5; /* A light, parchment-like color for readability */
        text-shadow: 2px 2px 4px #000; /* Add a subtle shadow for depth */
        text-align: center; /* Center-align the titles */
        margin-bottom: 10px;
        margin-top: 20px;
    }

    .box-content {
        flex-grow: 1;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .box-footer {
        text-align: center;
        padding: 10px;
        font-size: 0.5em;
    }

    .rounded-avatar {
        width: 60%;        /* Responsive width */
        height: auto;       /* Maintain aspect ratio */
        aspect-ratio: 1 / 1; /* Ensures a 1:1 aspect ratio */
        object-fit: cover;  /* Ensures the image covers the area */
        border-radius: 50%; /* Fully rounded crop */
        display: block;     /* Remove any extra space below the image */
    }
    
    .story-box, .character-box {
        z-index: 2;
        width: 240px;
        height: 180px;
        border: 2px solid #8b4513;
        border-radius: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 10px;
        background-color: rgba(139, 69, 19, 0.8); 
        font-size: 2.5em;
        color: #f4d9c5;
        flex-direction: column;
        justify-content: space-between;
        padding-block-start: 10px;
    }
    
    .story-box:hover, .character-box:hover {
        background-color: rgba(255, 255, 255, 0.8) !important; /* Add a hover effect with a semi-transparent white background */
        cursor: pointer !important; /* Change the cursor to indicate it's clickable */
        color: #000 !important; /* Change text color to black for visibility */
    }

    .selected {
        border: 5px solid #406f41; /* Example: Green border for selected character */
        background-color: rgba(255, 255, 255, 0.8) !important; /* Add a hover effect with a semi-transparent white background */
        cursor: pointer !important; /* Change the cursor to indicate it's clickable */
        color: #000 !important; /* Change text color to black for visibility */
    }

    @keyframes slideInFromRight {
        from {
            transform: translateX(100%);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
            pointer-events: auto;
        }
    }

    .stories-container.visible {
        display: flex; /* or block, depending on your layout */
        animation: slideInFromRight 0.5s ease-out forwards;
    }

    .created-story {
    /* Styles for created story boxes */
    background-color: #f4d9c5;
    color: #000;
    }

    .active-story {
        /* Styles for active story boxes */
        background-color: #1f853f;
        color: #f4d9c5;
    }

    .joined-story {
        /* Styles for joined story boxes */
        background-color: #406f41;
        color: #f4d9c5;
    }

    .left-story {
        /* Styles for left story boxes */
        background-color: #f4d9c5;
        color: #000;
    }

    .deleted-story {
        /* Styles for deleted story boxes */
        background-color: #000;
        color: #f4d9c5;
    }

    .popup {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 3; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgb(0,0,0); /* Fallback color */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    .popup-content {
        background-color: #ffeaea;
        margin: 15% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 80%;
        border-radius: 10px;
        max-width: 300px;
        text-align: center;
        font-family:Cambria, Cochin, Georgia, Times, 'Times New Roman', serif
    }

    .close-btn {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

    .close-btn:hover,
    .close-btn:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
    }

    .signature {
        margin-top: 20px;
        font-family: 'Dancing Script', cursive; /* Use a cursive font for a handwritten effect */
        font-size: 1.2em;
        color: #8b4513; /* Match the theme color */
    }

    .signature p {
        margin: 0;
    }

    /* Toast container */
    #toastContainer {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1000;
        width: 80%;
        max-width: 600px;
        pointer-events: none; /* Allows clicks to pass through */
    }

    /* Toast message */
    .toast {
        background-color: #f8d7da; /* Light red background for error */
        color: #721c24; /* Dark red text for error */
        border: 1px solid #f5c6cb; /* Border color for error */
        padding: 15px;
        margin-bottom: 10px;
        border-radius: 5px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        pointer-events: auto; /* Allows interaction with the toast */
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
    }

    /* Show toast */
    .toast.show {
        opacity: 1;
    }

    .story-box {
        position: relative; /* Ensure the delete button is positioned relative to the story box */
    }

    .delete-button {
        background-color: #ff4d4d; /* Red background */
        color: white; /* White text */
        border: none; /* No border */
        border-radius: 5px; /* Rounded corners */
        padding: 5px 10px; /* Padding */
        font-size: 12px; /* Font size */
        cursor: pointer; /* Pointer cursor on hover */
        position: absolute; /* Absolute positioning */
        top: 10px; /* Position from the top */
        right: 10px; /* Position from the right */
        z-index: 10; /* Ensure it is above other elements */
    }

    .delete-button:hover {
        background-color: #ff1a1a; /* Darker red on hover */
    }

    .story-icon {
        width: 100px; /* Adjust the width as needed */
        height: auto; /* Maintain aspect ratio */
        max-width: 100%; /* Ensure it doesn't exceed the container's width */
    }

    .story-icon-join {
        width: 50px; /* Adjust the width as needed */
        height: auto; /* Maintain aspect ratio */
        max-width: 100%; /* Ensure it doesn't exceed the container's width */
    }

    /* Add this to your CSS file */
    .invite-code-container {
        display: flex;
        justify-content: center; /* Center horizontally */
        align-items: center; /* Center vertically */
        height: 100%; /* Full viewport height, adjust as needed */
    }

    #use-invite-code-btn {
        display: flex;
        align-items: center; /* Center items vertically */
        justify-content: center; /* Center items horizontally */
        background-color: rgba(139, 69, 19, 0.8); /* Match the theme color */
        color: #f4d9c5; /* Light, parchment-like color */
        border: 2px solid #8b4513; /* Border color */
        border-radius: 10px; /* Rounded corners */
        padding: 10px 20px; /* Padding for the button */
        font-size: 1em; /* Font size */
        cursor: pointer; /* Pointer cursor on hover */
        text-transform: uppercase; /* Uppercase text */
        letter-spacing: 1px; /* Spacing between letters */
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* Subtle shadow */
        transition: background-color 0.3s ease, color 0.3s ease; /* Smooth transition */
        z-index: 10; /* Ensure it is above other elements */
    }

    #use-invite-code-btn:hover {
        background-color: rgba(255, 255, 255, 0.8); /* Lighter background on hover */
        color: #000; /* Dark text on hover */
    }

    #use-invite-code-txt {
        font-family: 'MedievalSharp', Arial, sans-serif; /* Match the font-family */
        color: inherit; /* Inherit the color from the parent */
    }

    .story-icon-join {
        margin-right: 10px; /* Add some space between the image and the text */
    }
</style>